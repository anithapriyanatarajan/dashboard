import{u as W,_ as j}from"./index-Cn2DnnuS.js";import{c as G}from"./index-7UTgOZSF.js";import{_ as n}from"./index-CvulwabO.js";import{r as t,R as i}from"./index-BLsgEXh-.js";import{u as V,P as Y,a as q}from"./index-DN2bqo_D.js";import{u as z}from"./usePrefix-DVhi0s40.js";import{m as g,E as N,b as J,S as Q}from"./keys-fZP-1wUt.js";function U(h){const[E,u]=t.useState(h),s=t.useRef(null),c=t.useCallback(function(f){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(window.clearTimeout(s.current??void 0),s.current=null,d===0){u(f);return}s.current=window.setTimeout(()=>{u(f),s.current=null},d)},[]);return t.useEffect(()=>()=>{window.clearTimeout(s.current??void 0)},[]),[E,c]}const $=new Set(["mouseup","touchend","touchcancel"]);function X(h){let{align:E="top",className:u,children:s,label:c,description:f,enterDelayMs:d=100,leaveDelayMs:b=300,defaultOpen:A=!1,closeOnActivation:y=!1,...P}=h;t.useRef(null);const[r,o]=U(A),[M,p]=t.useState(!1),[B,T]=t.useState(!1),[_,O]=t.useState(!1),v=W("tooltip"),w=z(),D=i.Children.only(s),l={onFocus:()=>!B&&o(!0),onBlur:()=>{o(!1),T(!1)},onClick:()=>y&&o(!1),onMouseEnter:k,onMouseLeave:I,onMouseDown:H,onMouseMove:K,onTouchStart:x};function F(e){const m=Object.keys(l).filter(a=>a.startsWith("on")),L={};return m.forEach(a=>{L[a]=R=>{l[a](R),e?.[a]&&e?.[a](R)}}),L}c?l["aria-labelledby"]=v:l["aria-describedby"]=v;const S=t.useCallback(e=>{r&&g(e,N)&&(e.stopPropagation(),o(!1)),r&&y&&(g(e,J)||g(e,Q))&&o(!1)},[y,r,o]);V(()=>{if(!r)return;function e(m){g(m,N)&&S(m)}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r,S]);function k(){P?.onMouseEnter||(O(!0),o(!0,d))}function H(){T(!0),x()}function I(){O(!1),!M&&o(!1,b)}function K(e){e.buttons===1?p(!0):p(!1)}function x(){p(!0)}const C=t.useCallback(()=>{p(!1),_||o(!1,b)},[_,b,o]);return t.useEffect(()=>(M&&$.forEach(e=>{document.addEventListener(e,C)}),()=>{$.forEach(e=>{document.removeEventListener(e,C)})}),[M,C]),i.createElement(Y,j({},P,{align:E,className:G(`${w}--tooltip`,u),dropShadow:!1,highContrast:!0,onKeyDown:S,onMouseLeave:I,open:r}),i.createElement("div",{className:`${w}--tooltip-trigger__wrapper`},D!==void 0?i.cloneElement(D,{...l,...F(D.props)}):null),i.createElement(q,{"aria-hidden":r?"false":"true",className:`${w}--tooltip-content`,id:v,onMouseEnter:k,role:"tooltip"},c||f))}X.propTypes={align:n.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),children:n.node,className:n.string,closeOnActivation:n.bool,defaultOpen:n.bool,description:n.node,enterDelayMs:n.number,label:n.node,leaveDelayMs:n.number};export{X as T};
