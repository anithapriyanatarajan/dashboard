import{e as H,_ as x,d as E,g as L,u as W}from"./index-Cn2DnnuS.js";import{_ as o}from"./index-CvulwabO.js";import{r as N,R as n}from"./index-BLsgEXh-.js";import{c as I}from"./index-7UTgOZSF.js";import{u as M}from"./usePrefix-DVhi0s40.js";import{P as q,a as F}from"./index-DN2bqo_D.js";import{m as K,E as V}from"./keys-fZP-1wUt.js";import{T as v}from"./Text-9nRGETFr.js";import{a as Y}from"./bucket-3-igrvqujs.js";const j=l=>{let{align:_="bottom-start",className:t,children:u,definition:g,defaultOpen:T=!1,id:i,openOnHover:$,tooltipText:d,triggerClassName:C,...b}=l;const[r,a]=N.useState(T),y=M(),m=H(i);function p(e){r&&K(e,V)&&(e.stopPropagation(),a(!1))}return n.createElement(q,{align:_,className:t,dropShadow:!1,highContrast:!0,onMouseLeave:()=>{a(!1)},onMouseEnter:()=>{$&&a(!0)},onFocus:()=>{a(!0)},open:r},n.createElement("button",x({},b,{className:I(`${y}--definition-term`,C),"aria-controls":m,"aria-expanded":r,onBlur:()=>{a(!1)},onMouseDown:e=>{e.button===0&&a(!r)},onKeyDown:p,type:"button"}),u),n.createElement(F,{className:`${y}--definition-tooltip`,id:m},d??g))};j.propTypes={align:o.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),children:o.node.isRequired,className:o.string,defaultOpen:o.bool,definition:o.node.isRequired,id:o.string,openOnHover:o.bool,tooltipText:E(o.node),triggerClassName:o.string};const Z=l=>l?l?.offsetWidth<l?.scrollWidth:!1;var D;const R={red:"Red",magenta:"Magenta",purple:"Purple",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",gray:"Gray","cool-gray":"Cool-Gray","warm-gray":"Warm-Gray","high-contrast":"High-Contrast",outline:"Outline"},J={sm:"sm",md:"md",lg:"lg"},Q=n.forwardRef((l,_)=>{let{children:t,className:u,decorator:g,id:T,type:i,filter:$,renderIcon:d,title:C="Clear filter",disabled:b,onClose:r,size:a,as:y,slug:m,...p}=l;const e=M(),O=N.useRef(),A=L([_,O]),k=T||`tag-${W()}`,[P,B]=N.useState(!1);N.useLayoutEffect(()=>{const s=O.current?.getElementsByClassName(`${e}--tag__label`)[0];B(Z(s))},[e,O]);const h=[`${e}--tag--selectable`,`${e}--tag--filter`,`${e}--tag--operational`].some(s=>u?.includes(s)),w=I(`${e}--tag`,u,{[`${e}--tag--disabled`]:b,[`${e}--tag--filter`]:$,[`${e}--tag--${a}`]:a,[`${e}--layout--size-${a}`]:a,[`${e}--tag--${i}`]:i,[`${e}--tag--interactive`]:p.onClick&&!h&&P}),f=i!==void 0&&i in Object.keys(R)?R[i]:"",G=s=>{r&&(s.stopPropagation(),r(s))};let c=n.isValidElement(m??g)?m??g:null;if(c&&c.type?.displayName==="AILabel"&&!h&&(c=n.cloneElement(c,{size:"sm",kind:"inline"})),$){const s=y??"div";return n.createElement(s,x({className:w,id:k},p),d&&a!=="sm"?n.createElement("div",{className:`${e}--tag__custom-icon`},n.createElement(d,null)):"",n.createElement(v,{title:typeof t=="string"?t:void 0,className:`${e}--tag__label`},t??f),c,n.createElement("button",{type:"button",className:`${e}--tag__close-icon`,onClick:G,disabled:b,"aria-label":C,title:C},D||(D=n.createElement(Y,null))))}const S=y??(p.onClick||u?.includes(`${e}--tag--operational`)?"button":"div"),z=I({[`${e}--tag__label`]:!h});return n.createElement(S,x({ref:A,disabled:b,className:w,id:k,type:S==="button"?"button":void 0},p),d&&a!=="sm"?n.createElement("div",{className:`${e}--tag__custom-icon`},n.createElement(d,null)):"",P&&!h?n.createElement(j,{openOnHover:!1,definition:t??f,className:`${e}--definition--tooltip--tag`},n.createElement(v,{title:t!=null&&typeof t=="string"?t:f,className:z},t??f)):n.createElement(v,{title:t!=null&&typeof t=="string"?t:f,className:z},t??f),m?c:g?n.createElement("div",{className:`${e}--tag__decorator`},c):"")});Q.propTypes={as:o.elementType,children:o.node,className:o.string,decorator:o.node,disabled:o.bool,filter:E(o.bool),id:o.string,onClose:E(o.func),renderIcon:o.oneOfType([o.func,o.object]),size:o.oneOf(Object.keys(J)),slug:E(o.node),title:E(o.string),type:o.oneOf(Object.keys(R))};export{Q as T};
