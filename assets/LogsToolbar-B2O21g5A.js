import{j as n}from"./jsx-runtime-B0wN4eWF.js";import{u as A}from"./index-CbuwW4_d.js";import{u as C}from"./usePrefix-DVhi0s40.js";import{u as I,_ as F,d as z}from"./index-Cn2DnnuS.js";import{_ as a}from"./index-CvulwabO.js";import{R as e,r as G}from"./index-BLsgEXh-.js";import{c as T}from"./index-7UTgOZSF.js";import{n as B}from"./noopFn-g4z370MD.js";import{T as H}from"./Text-9nRGETFr.js";import{a as R,W as q}from"./bucket-18-D1v83Eua.js";import{P as V,a as K}from"./index-DN2bqo_D.js";import{a as L,b as J}from"./bucket-11-CJvd3vIe.js";import{a as Q}from"./bucket-10-C-nanEs4.js";import{D as U}from"./bucket-5-B__QRtnz.js";import{S as X}from"./bucket-15-DETD0dec.js";const f=e.forwardRef((g,b)=>{let{className:_,decorator:d,helperText:p,id:c,labelText:v,onChange:k=B,onClick:x,indeterminate:i=!1,invalid:t,invalidText:w,hideLabel:h,readOnly:o,title:s="",warn:r,warnText:E,slug:N,...j}=g;const l=C(),y=!o&&!t&&r,M=!t&&!r,u=I(),O=p?`checkbox-helper-text-${u}`:void 0,S=p?e.createElement("div",{id:O,className:`${l}--form__helper-text`},p):null,P=T(`${l}--form-item`,`${l}--checkbox-wrapper`,_,{[`${l}--checkbox-wrapper--readonly`]:o,[`${l}--checkbox-wrapper--invalid`]:!o&&t,[`${l}--checkbox-wrapper--warning`]:y,[`${l}--checkbox-wrapper--slug`]:N,[`${l}--checkbox-wrapper--decorator`]:d}),W=T(`${l}--checkbox-label-text`,{[`${l}--visually-hidden`]:h});let $=e.isValidElement(N??d)?N??d:null;if($&&$.type?.displayName==="AILabel"){const m=$.props?.kind==="inline"?"md":"mini";$=e.cloneElement($,{size:m})}return e.createElement("div",{className:P},e.createElement("input",F({},j,{type:"checkbox","data-invalid":t?!0:void 0,onChange:m=>{!o&&k&&k(m,{checked:m.target.checked,id:c})},className:`${l}--checkbox`,id:c,ref:m=>{m&&(m.indeterminate=i??!1),typeof b=="function"?b(m):b&&"current"in b&&(b.current=m)},"aria-readonly":o,onClick:m=>{o&&m.preventDefault(),x&&x(m)}})),e.createElement("label",{htmlFor:c,className:`${l}--checkbox-label`,title:s},e.createElement(H,{className:W},v,N?$:d?e.createElement("div",{className:`${l}--checkbox-wrapper-inner--decorator`},$):"")),e.createElement("div",{className:`${l}--checkbox__validation-msg`},!o&&t&&e.createElement(e.Fragment,null,e.createElement(R,{className:`${l}--checkbox__invalid-icon`}),e.createElement("div",{className:`${l}--form-requirement`},w)),y&&e.createElement(e.Fragment,null,e.createElement(q,{className:`${l}--checkbox__invalid-icon ${l}--checkbox__invalid-icon--warning`}),e.createElement("div",{className:`${l}--form-requirement`},E))),M&&S)});f.propTypes={checked:a.bool,className:a.string,decorator:a.node,defaultChecked:a.bool,disabled:a.bool,helperText:a.node,hideLabel:a.bool,id:a.string.isRequired,indeterminate:a.bool,invalid:a.bool,invalidText:a.node,labelText:a.node.isRequired,onChange:a.func,readOnly:a.bool,slug:z(a.node),title:a.string,warn:a.bool,warnText:a.node};f.displayName="Checkbox";const D=g=>{let{children:b,className:_,decorator:d,helperText:p,invalid:c,invalidText:v,legendId:k,legendText:x,readOnly:i,warn:t,warnText:w,slug:h,orientation:o="vertical",...s}=g;const r=C(),E=!i&&!c&&t,N=!c&&!t,j=I(),l=p?`checkbox-group-helper-text-${j}`:void 0,y=p?e.createElement("div",{id:l,className:`${r}--form__helper-text`},p):null,M=T(`${r}--checkbox-group`,_,{[`${r}--checkbox-group--${o}`]:o==="horizontal",[`${r}--checkbox-group--readonly`]:i,[`${r}--checkbox-group--invalid`]:!i&&c,[`${r}--checkbox-group--warning`]:E,[`${r}--checkbox-group--slug`]:h,[`${r}--checkbox-group--decorator`]:d});let u=e.isValidElement(h??d)?h??d:null;return u&&u.type?.displayName==="AILabel"&&(u=e.cloneElement(u,{size:"mini",kind:"default"})),e.createElement("fieldset",F({className:M,"data-invalid":c?!0:void 0,"aria-labelledby":s["aria-labelledby"]||k,"aria-readonly":i,"aria-describedby":!c&&!t&&y?l:void 0},s),e.createElement("legend",{className:`${r}--label`,id:k||s["aria-labelledby"]},x,h?u:d?e.createElement("div",{className:`${r}--checkbox-group-inner--decorator`},u):""),b,e.createElement("div",{className:`${r}--checkbox-group__validation-msg`},!i&&c&&e.createElement(e.Fragment,null,e.createElement(R,{className:`${r}--checkbox__invalid-icon`}),e.createElement("div",{className:`${r}--form-requirement`},v)),E&&e.createElement(e.Fragment,null,e.createElement(q,{className:`${r}--checkbox__invalid-icon ${r}--checkbox__invalid-icon--warning`}),e.createElement("div",{className:`${r}--form-requirement`},w))),N&&y)};D.propTypes={children:a.node,className:a.string,decorator:a.node,helperText:a.node,invalid:a.bool,invalidText:a.node,legendId:a.node,legendText:a.node.isRequired,orientation:a.oneOf(["horizontal","vertical"]),readOnly:a.bool,slug:z(a.node),warn:a.bool,warnText:a.node};const Y=({id:g,isMaximized:b,name:_,logLevels:d,onToggleShowTimestamps:p,onToggleLogLevel:c,onToggleMaximized:v,showTimestamps:k,url:x})=>{const i=C(),t=A(),[w,h]=G.useState(!1);return n.jsxs("div",{className:`${i}--btn-set`,children:[v?n.jsx("button",{className:`${i}--btn ${i}--btn--icon-only ${i}--copy-btn`,onClick:v,type:"button",children:b?n.jsx(L,{children:n.jsx("title",{children:t.formatMessage({id:"dashboard.logs.restore",defaultMessage:"Return to default"})})}):n.jsx(J,{children:n.jsx("title",{children:t.formatMessage({id:"dashboard.logs.maximize",defaultMessage:"Maximize"})})})}):null,x?n.jsxs(n.Fragment,{children:[n.jsx("a",{className:`${i}--btn ${i}--btn--icon-only ${i}--copy-btn`,href:x,target:"_blank",rel:"noopener noreferrer",children:n.jsx(Q,{children:n.jsx("title",{children:t.formatMessage({id:"dashboard.logs.launchButtonTooltip",defaultMessage:"Open logs in a new window"})})})}),n.jsx("a",{className:`${i}--btn ${i}--btn--icon-only ${i}--copy-btn`,download:_,href:x,children:n.jsx(U,{children:n.jsx("title",{children:t.formatMessage({id:"dashboard.logs.downloadButtonTooltip",defaultMessage:"Download logs"})})})})]}):null,n.jsxs(V,{align:"bottom-end",autoAlign:!0,className:"tkn--log-settings-menu",isTabTip:!0,onKeyDown:o=>{o.key==="Escape"&&(o.stopPropagation(),h(!1))},onRequestClose:o=>{h(s=>!s)},open:w,children:[n.jsx("button",{"aria-expanded":w,"aria-label":t.formatMessage({id:"dashboard.settings.title",defaultMessage:"Settings"}),onClick:()=>h(o=>!o),title:t.formatMessage({id:"dashboard.settings.title",defaultMessage:"Settings"}),type:"button",children:n.jsx(X,{})}),n.jsxs(K,{className:"tkn--log-settings-menu-content",children:[n.jsx(f,{id:`${g}-timestamps-toggle`,labelText:t.formatMessage({id:"dashboard.logs.showTimestamps.label",defaultMessage:"Show timestamps"}),onChange:(o,{checked:s})=>{p(s)},checked:k}),d&&c?n.jsxs(n.Fragment,{children:[n.jsx("hr",{}),n.jsxs(D,{legendText:t.formatMessage({id:"dashboard.logs.logLevels.label",defaultMessage:"Log levels"}),children:[n.jsx(f,{id:`${g}-loglevels-error-toggle`,labelText:t.formatMessage({id:"dashboard.logs.logLevels.error",defaultMessage:"Error"}),onChange:(o,{checked:s})=>{c({error:s})},checked:d.error}),n.jsx(f,{id:`${g}-loglevels-warning-toggle`,labelText:t.formatMessage({id:"dashboard.logs.logLevels.warning",defaultMessage:"Warning"}),onChange:(o,{checked:s})=>{c({warning:s})},checked:d.warning}),n.jsx(f,{id:`${g}-loglevels-notice-toggle`,labelText:t.formatMessage({id:"dashboard.logs.logLevels.notice",defaultMessage:"Notice"}),onChange:(o,{checked:s})=>{c({notice:s})},checked:d.notice}),n.jsx(f,{id:`${g}-loglevels-info-toggle`,labelText:t.formatMessage({id:"dashboard.logs.logLevels.info",defaultMessage:"Info (default)"}),onChange:(o,{checked:s})=>{c({info:s})},checked:d.info}),n.jsx(f,{id:`${g}-loglevels-debug-toggle`,labelText:t.formatMessage({id:"dashboard.logs.logLevels.debug",defaultMessage:"Debug"}),onChange:(o,{checked:s})=>{c({debug:s})},checked:d.debug})]})]}):null]})]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"LogsToolbar"};export{Y as L};
