import{_ as v,u as P,a as ne,d as B}from"./index-Cn2DnnuS.js";import{_ as e}from"./index-CvulwabO.js";import{r as p,R as n}from"./index-BLsgEXh-.js";import{c as w}from"./index-7UTgOZSF.js";import{B as te}from"./Button-DXQXyzWq.js";import{u as V,d as ie}from"./index-DN2bqo_D.js";import{u as _}from"./usePrefix-DVhi0s40.js";import{n as G}from"./noopFn-g4z370MD.js";import{w as oe,a as ae}from"./wrapFocus-Cvvm2ck9.js";import{T as I}from"./Text-9nRGETFr.js";import{m as se,T as le,a as re,E as ce}from"./keys-fZP-1wUt.js";import{I as ue,a as fe}from"./bucket-9-CFGufIsT.js";import{W as de,a as me}from"./bucket-18-D1v83Eua.js";import{C as pe,a as be}from"./bucket-3-igrvqujs.js";import{E as ge}from"./bucket-6-KyTwAsSL.js";function Ce(i,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const s=l=>{const o=i.current&&document.activeElement===i.current||i.current?.contains(document.activeElement);re(l,[ce])&&r&&o&&a(l)};V(()=>(i.current!==null&&document.addEventListener("keydown",s,!1),()=>document.removeEventListener("keydown",s,!1)))}function H(i){let{children:a,className:r,onClick:s,inline:l,...o}=i;const d=_(),c=w(r,{[`${d}--actionable-notification__action-button`]:!0});return n.createElement(te,v({className:c,kind:l?"ghost":"tertiary",onClick:s,size:"sm"},o),a)}H.propTypes={children:e.node,className:e.string,inline:e.bool,onClick:e.func};function D(i){let{"aria-label":a="close notification",ariaLabel:r,className:s,type:l="button",renderIcon:o=be,name:d,notificationType:c="toast",...N}=i;const C=_(),m=w(s,{[`${C}--${c}-notification__close-button`]:c}),b=w({[`${C}--${c}-notification__close-icon`]:c});return n.createElement("button",v({},N,{type:l,"aria-label":r||a,title:r||a,className:m}),o&&n.createElement(o,{className:b,name:d}))}D.propTypes={"aria-label":e.string,ariaLabel:B(e.string),className:e.string,name:e.string,notificationType:e.oneOf(["toast","inline","actionable"]),renderIcon:e.oneOfType([e.func,e.object]),type:e.string};const Ne={error:ge,success:pe,warning:me,"warning-alt":de,info:fe,"info-square":ue};function A(i){let{iconDescription:a,kind:r,notificationType:s}=i;const l=_(),o=Ne[r];return o?n.createElement(o,{className:`${l}--${s}-notification__icon`,size:20},n.createElement("title",null,a)):null}A.propTypes={iconDescription:e.string.isRequired,kind:e.oneOf(["error","success","warning","warning-alt","info","info-square"]).isRequired,notificationType:e.oneOf(["inline","toast"]).isRequired};e.string,B(e.string),e.string,e.node,e.string,e.bool,e.oneOf(["error","info","info-square","success","warning","warning-alt"]),e.bool,e.func,e.func,e.oneOf(["alert","log","status"]),e.string,e.string,e.number,e.string;function Ee(i){let{["aria-label"]:a,children:r,title:s,subtitle:l,role:o="status",onClose:d,onCloseButtonClick:c=G,statusIconDescription:N,className:C,kind:m="error",lowContrast:b,hideCloseButton:g=!1,...F}=i;const[$,x]=p.useState(!0),f=_(),E=w(C,{[`${f}--inline-notification`]:!0,[`${f}--inline-notification--low-contrast`]:b,[`${f}--inline-notification--${m}`]:m,[`${f}--inline-notification--hide-close-button`]:g}),k=p.useRef(null),O=t=>{(!d||d(t)!==!1)&&x(!1)},h=p.useRef(null);function L(t){c(t),O(t)}return $?n.createElement("div",v({ref:h},F,{role:o,className:E}),n.createElement("div",{className:`${f}--inline-notification__details`},n.createElement(A,{notificationType:"inline",kind:m,iconDescription:N||`${m} icon`}),n.createElement("div",{ref:k,className:`${f}--inline-notification__text-wrapper`},s&&n.createElement(I,{as:"div",className:`${f}--inline-notification__title`},s),l&&n.createElement(I,{as:"div",className:`${f}--inline-notification__subtitle`},l),r)),!g&&n.createElement(D,{notificationType:"inline",onClick:L,"aria-label":a})):null}Ee.propTypes={"aria-label":e.string,children:e.node,className:e.string,hideCloseButton:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onClose:e.func,onCloseButtonClick:e.func,role:e.oneOf(["alert","log","status"]),statusIconDescription:e.string,subtitle:e.string,title:e.string};function he(i){let{actionButtonLabel:a,["aria-label"]:r,ariaLabel:s,children:l,role:o="alertdialog",onActionButtonClick:d,onClose:c,onCloseButtonClick:N=G,statusIconDescription:C,className:m,inline:b=!1,kind:g="error",lowContrast:F,hideCloseButton:$=!1,hasFocus:x=!0,closeOnEscape:f=!0,title:E,subtitle:k,...O}=i;const[h,L]=p.useState(!0),t=_(),R=P("actionable-notification"),q=P("actionable-notification-subtitle"),J=w(m,{[`${t}--actionable-notification`]:!0,[`${t}--actionable-notification--toast`]:!b,[`${t}--actionable-notification--low-contrast`]:F,[`${t}--actionable-notification--${g}`]:g,[`${t}--actionable-notification--hide-close-button`]:$}),S=p.useRef(null),W=p.useRef(null),K=p.useRef(null),y=p.useRef(null),T=ne("enable-experimental-focus-wrap-without-sentinels");V(()=>{x&&o==="alertdialog"&&document.querySelector("button.cds--actionable-notification__action-button")?.focus()});function Q(u){let{target:M,relatedTarget:j}=u;if(h&&j&&M&&o==="alertdialog"){const{current:Y}=S,{current:Z}=W,{current:ee}=K;ae({bodyNode:Y,startTrapNode:Z,endTrapNode:ee,currentActiveNode:j,oldActiveNode:M})}}function U(u){h&&se(u,le)&&y.current&&o==="alertdialog"&&oe({containerNode:y.current,currentActiveNode:u.target,event:u})}const X=u=>{(!c||c(u)!==!1)&&L(!1)};Ce(y,z,f);function z(u){N(u),X(u)}return h?n.createElement("div",v({},O,{ref:y,role:o,className:J,"aria-labelledby":E?R:q,onBlur:T?()=>{}:Q,onKeyDown:T?U:()=>{}}),!T&&n.createElement("span",{ref:W,tabIndex:0,role:"link",className:`${t}--visually-hidden`},"Focus sentinel"),n.createElement("div",{className:`${t}--actionable-notification__details`},n.createElement(A,{notificationType:b?"inline":"toast",kind:g,iconDescription:C||`${g} icon`}),n.createElement("div",{className:`${t}--actionable-notification__text-wrapper`},n.createElement("div",{className:`${t}--actionable-notification__content`},E&&n.createElement(I,{as:"div",className:`${t}--actionable-notification__title`,id:R},E),k&&n.createElement(I,{as:"div",className:`${t}--actionable-notification__subtitle`,id:q},k),l))),n.createElement("div",{className:`${t}--actionable-notification__button-wrapper`,ref:S},a&&n.createElement(H,{onClick:d,inline:b},a),!$&&n.createElement(D,{"aria-label":s||r,notificationType:"actionable",onClick:z})),!T&&n.createElement("span",{ref:K,tabIndex:0,role:"link",className:`${t}--visually-hidden`},"Focus sentinel")):null}he.propTypes={actionButtonLabel:e.string,"aria-label":e.string,ariaLabel:B(e.string),children:e.node,className:e.string,closeOnEscape:e.bool,hasFocus:B(e.bool),hideCloseButton:e.bool,inline:e.bool,kind:e.oneOf(["error","info","info-square","success","warning","warning-alt"]),lowContrast:e.bool,onActionButtonClick:e.func,onClose:e.func,onCloseButtonClick:e.func,role:e.string,statusIconDescription:e.string,subtitle:e.node,title:e.string};const we=i=>({error:"warning",success:"info"})[i];e.string,e.node,e.string,ie(e.oneOf(["error","info","info-square","success","warning","warning-alt"]),["warning","info"],we),e.bool,e.func,e.string,e.node,e.string,e.string;export{he as A,Ee as I};
