import{_ as e}from"./index-CvulwabO.js";import{R as t,r as P}from"./index-BLsgEXh-.js";import{c as d}from"./index-7UTgOZSF.js";import{u as ne}from"./usePrefix-DVhi0s40.js";import{T as U}from"./Text-9nRGETFr.js";import{a as me,W as ge,V as be,c as fe}from"./bucket-18-D1v83Eua.js";import{u as he,_ as we,d as te}from"./index-Cn2DnnuS.js";import{F as xe}from"./FormContext-D3yeToZb.js";import{T as ve}from"./Tooltip-wylFaEsh.js";import{n as ue}from"./noopFn-g4z370MD.js";function $e(m){let{id:w,readOnly:c,disabled:p,invalid:r,invalidText:b,warn:$,warnText:g}=m;const x=ne(),a={disabled:!c&&p,invalid:!c&&r,invalidId:`${w}-error-msg`,warn:!c&&!r&&$,warnId:`${w}-warn-msg`,validation:null,icon:null,helperId:`${w}-helper-text`};return a.invalid?(a.icon=me,a.validation=t.createElement(U,{as:"div",className:`${x}--form-requirement`,id:a.invalidId},b)):a.warn&&(a.icon=ge,a.validation=t.createElement(U,{as:"div",className:`${x}--form-requirement`,id:a.warnId},g)),a}const _e=m=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":m}),ye=m=>({"aria-describedby":m}),Te=m=>({"aria-describedby":m}),re=m=>{let{sharedTextInputProps:w,invalid:c,invalidId:p,warn:r,warnId:b,hasHelper:$,helperId:g}=m;return{...w,...c?_e(p):{},...r?ye(b):{},...$?Te(g):{}}},oe=t.forwardRef(function(w,c){let{labelText:p,className:r,id:b,placeholder:$,onChange:g=ue,onClick:x=ue,disabled:a=!1,hideLabel:D,invalid:T=!1,invalidText:O="",helperText:h="",light:M,type:L="password",togglePasswordVisibility:V,tooltipPosition:C="bottom",tooltipAlignment:f="center",hidePasswordLabel:v="Hide password",showPasswordLabel:z="Show password",size:u=void 0,..._}=w;const l=ne(),N=he(),k=b+"-error-msg",i=d(`${l}--text-input`,`${l}--password-input`,r,{[`${l}--text-input--light`]:M,[`${l}--text-input--invalid`]:T,[`${l}--text-input--${u}`]:u}),E={id:b,onChange:R=>{a||g?.(R)},onClick:R=>{a||x?.(R)},placeholder:$,type:L,ref:c,className:i,..._},W=d(`${l}--label`,{[`${l}--visually-hidden`]:D,[`${l}--label--disabled`]:a}),n=d(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:a}),o=p?t.createElement("label",{htmlFor:b,className:W},p):null,s=T?t.createElement("div",{className:`${l}--form-requirement`,id:k},O):null,A=L==="text",q=A?t.createElement(be,{className:`${l}--icon-visibility-off`}):t.createElement(fe,{className:`${l}--icon-visibility-on`}),j=d(`${l}--text-input--password__visibility__toggle`,`${l}--btn`,`${l}--btn--icon-only`,`${l}--tooltip__trigger`,`${l}--tooltip--a11y`,{[`${l}--tooltip--${C}`]:C,[`${l}--tooltip--align-${f}`]:f}),S=h?`controlled-password-helper-text-${N}`:void 0,G=t.createElement(t.Fragment,null,t.createElement("input",we({},re({invalid:T,sharedTextInputProps:E,invalidId:k,hasHelper:!!(!s&&h),helperId:S}),{"data-toggle-password-visibility":L==="password"})),t.createElement("button",{type:"button",className:j,onClick:V},t.createElement("span",{className:`${l}--assistive-text`},A?v:z),q)),J=h?t.createElement("div",{id:S,className:n},h):null;return t.createElement("div",{className:`${l}--form-item ${l}--text-input-wrapper ${l}--password-input-wrapper`},o,t.createElement("div",{className:`${l}--text-input__field-wrapper`,"data-invalid":T||null},T&&t.createElement(me,{className:`${l}--text-input__invalid-icon`}),G),s||J)});oe.displayName="ControlledPasswordInput";oe.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const de=t.forwardRef(function(w,c){let{className:p,disabled:r=!1,helperText:b,hideLabel:$,hidePasswordLabel:g="Hide password",id:x,inline:a,invalid:D=!1,invalidText:T,labelText:O,light:h,onChange:M=()=>{},onClick:L=()=>{},onTogglePasswordVisibility:V,placeholder:C,readOnly:f,size:v="md",showPasswordLabel:z="Show password",tooltipPosition:u="bottom",tooltipAlignment:_="end",type:l="password",warn:N=!1,warnText:k,...i}=w;const[E,W]=P.useState(l),n=ne(),o=$e({id:x,invalid:D,invalidText:T,warn:N,warnText:k,readOnly:f,disabled:r}),{isFluid:s}=P.useContext(xe),A=F=>{W(E==="password"?"text":"password"),V&&V(F)},q=d(`${n}--text-input`,`${n}--password-input`,p,{[`${n}--text-input--light`]:h,[`${n}--text-input--invalid`]:o.invalid,[`${n}--text-input--warning`]:o.warn,[`${n}--text-input--${v}`]:v,[`${n}--layout--size-${v}`]:v}),j={id:x,onChange:F=>{r||M(F)},onClick:F=>{r||L(F)},placeholder:C,type:E,className:q,readOnly:f,ref:c,...i},S=d(`${n}--form-item`,`${n}--text-input-wrapper`,`${n}--password-input-wrapper`,{[`${n}--text-input-wrapper--readonly`]:f,[`${n}--text-input-wrapper--light`]:h,[`${n}--text-input-wrapper--inline`]:a,[`${n}--text-input--fluid`]:s}),G=d(`${n}--label`,{[`${n}--visually-hidden`]:$,[`${n}--label--disabled`]:r,[`${n}--label--inline`]:a,[`${n}--label--inline--${v}`]:a&&!!v}),J=d(`${n}--form__helper-text`,{[`${n}--form__helper-text--disabled`]:r,[`${n}--form__helper-text--inline`]:a}),R=d(`${n}--text-input__field-outer-wrapper`,{[`${n}--text-input__field-outer-wrapper--inline`]:a}),ae=d(`${n}--text-input__field-wrapper`,{[`${n}--text-input__field-wrapper--warning`]:o.warn}),le=d({[`${n}--text-input__invalid-icon`]:o.invalid||o.warn,[`${n}--text-input__invalid-icon--warning`]:o.warn}),X=O?t.createElement("label",{htmlFor:x,className:G},O):null,Y=b?t.createElement("div",{id:o.helperId,className:J},b):null,K=E==="text",Z=K?t.createElement(be,{className:`${n}--icon-visibility-off`}):t.createElement(fe,{className:`${n}--icon-visibility-on`}),se=d(`${n}--text-input--password__visibility__toggle`,`${n}--btn`,`${n}--tooltip__trigger`,`${n}--tooltip--a11y`,{[`${n}--tooltip--${u}`]:u,[`${n}--tooltip--align-${_}`]:_});let y;(u==="top"||u==="bottom")&&(_==="center"&&(y=u),_==="end"&&(y=`${u}-end`),_==="start"&&(y=`${u}-start`)),(u==="right"||u==="left")&&(y=u),!g||g.trim()===""?console.warn('Warning: The "hidePasswordLabel" should not be blank.'):(!z||z.trim()==="")&&console.warn('Warning: The "showPasswordLabel" should not be blank.');const ee=t.createElement(t.Fragment,null,t.createElement("input",we({},re({sharedTextInputProps:j,invalid:o.invalid,invalidId:o.invalidId,warn:o.warn,warnId:o.warnId,hasHelper:!!(b&&!s&&(a||!a&&!o.validation)),helperId:o.helperId}),{disabled:r,"data-toggle-password-visibility":E==="password"})),s&&t.createElement("hr",{className:`${n}--text-input__divider`}),t.createElement(ve,{align:y,className:`${n}--toggle-password-tooltip`,label:K?g:z},t.createElement("button",{type:"button",className:se,disabled:r||f,onClick:A},Z)));P.useEffect(()=>{W(l)},[l]);const Q=o.icon;return t.createElement("div",{className:S},a?t.createElement("div",{className:`${n}--text-input__label-helper-wrapper`},X,!s&&Y):X,t.createElement("div",{className:R},t.createElement("div",{className:ae,"data-invalid":o.invalid||null},Q&&t.createElement(Q,{className:le}),ee,s&&!a&&o.validation),!s&&!a&&(o.validation||Y)))});de.displayName="PasswordInput";de.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,readOnly:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};function Ie(m,w){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"characters";const p=w-m;if(p<=10&&p>0){const r=p===1?c.slice(0,-1):c;return`${p} ${r} left.`}return p<=0?`Maximum ${c} reached.`:null}const ie=t.forwardRef(function(w,c){let{className:p,decorator:r,disabled:b=!1,helperText:$,hideLabel:g,id:x,inline:a=!1,invalid:D=!1,invalidText:T,labelText:O,light:h,onChange:M=()=>{},onClick:L=()=>{},placeholder:V,readOnly:C,size:f,type:v="text",warn:z=!1,warnText:u,enableCounter:_=!1,maxCount:l,slug:N,...k}=w;const i=ne(),{defaultValue:E,value:W}=k,[n,o]=P.useState(E?.toString().length||W?.toString().length||0),s=$e({id:x,readOnly:C,disabled:b,invalid:D,invalidText:T,warn:z,warnText:u}),A=d(`${i}--text-input`,{[`${i}--text-input--light`]:h,[`${i}--text-input--invalid`]:s.invalid,[`${i}--text-input--warning`]:s.warn,[`${i}--text-input--${f}`]:f,[`${i}--layout--size-${f}`]:f}),q={id:x,onChange:I=>{s.disabled||(o(I.target.value?.length),M(I))},onClick:I=>{s.disabled||L(I)},placeholder:V,type:v,ref:c,className:A,title:V,disabled:s.disabled,readOnly:C,"aria-describedby":$&&s.helperId,...k};_&&(q.maxLength=l);const j=d([d(`${i}--form-item`,p)],`${i}--text-input-wrapper`,{[`${i}--text-input-wrapper--readonly`]:C,[`${i}--text-input-wrapper--light`]:h,[`${i}--text-input-wrapper--inline`]:a,[`${i}--text-input-wrapper--inline--invalid`]:a&&s.invalid}),S=d(`${i}--label`,{[`${i}--visually-hidden`]:g,[`${i}--label--disabled`]:s.disabled,[`${i}--label--inline`]:a,[`${i}--label--inline--${f}`]:a&&!!f}),G=d(`${i}--form__helper-text`,{[`${i}--form__helper-text--disabled`]:s.disabled,[`${i}--form__helper-text--inline`]:a}),J=d(`${i}--text-input__field-outer-wrapper`,{[`${i}--text-input__field-outer-wrapper--inline`]:a}),R=d(`${i}--text-input__field-wrapper`,{[`${i}--text-input__field-wrapper--warning`]:s.warn,[`${i}--text-input__field-wrapper--slug`]:N,[`${i}--text-input__field-wrapper--decorator`]:r}),ae=d({[`${i}--text-input__invalid-icon`]:s.invalid||s.warn,[`${i}--text-input__invalid-icon--warning`]:s.warn}),le=d(`${i}--label`,{[`${i}--label--disabled`]:b,[`${i}--text-input__label-counter`]:!0}),X=_&&l?t.createElement(U,{as:"div",className:le},`${n}/${l}`):null,Y=O?t.createElement(U,{as:"label",htmlFor:x,className:S},O):null,K=t.createElement("div",{className:`${i}--text-input__label-wrapper`},Y,X),Z=$?t.createElement(U,{as:"div",id:s.helperId,className:G},$):null,se=t.createElement("input",re({sharedTextInputProps:q,invalid:s.invalid,invalidId:s.invalidId,warn:s.warn,warnId:s.warnId})),{isFluid:y}=P.useContext(xe),ee=P.useRef(null),[Q,F]=P.useState(""),H=Ie(n,l);P.useEffect(()=>{if(H&&H!==Q){const I=ee.current;if(I){I.textContent="";const ce=setTimeout(()=>{I&&(I.textContent=H,F(H))},1e3);return()=>{ce&&clearTimeout(ce)}}}},[H,Q]);const pe=s.icon;let B=t.isValidElement(N??r)?N??r:null;return B&&B.type?.displayName==="AILabel"&&(B=t.cloneElement(B,{size:"mini"})),t.createElement("div",{className:j},a?t.createElement("div",{className:`${i}--text-input__label-helper-wrapper`},K,!y&&(s.validation||Z)):K,t.createElement("div",{className:J},t.createElement("div",{className:R,"data-invalid":s.invalid||null},pe&&t.createElement(pe,{className:ae}),se,N?B:r?t.createElement("div",{className:`${i}--text-input__field-inner-wrapper--decorator`},B):"",t.createElement("span",{className:`${i}--text-input__counter-alert`,role:"alert","aria-live":"assertive","aria-atomic":"true",ref:ee},H),y&&t.createElement("hr",{className:`${i}--text-input__divider`}),y&&!a&&s.validation),!y&&!a&&(s.validation||Z)))});ie.displayName="TextInput";ie.PasswordInput=de;ie.ControlledPasswordInput=oe;ie.propTypes={className:e.string,decorator:e.node,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:te(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:te(e.node),type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{ie as T};
