function y(a,p,{signal:u,edges:c}={}){let o,t=null;const r=c!=null&&c.includes("leading"),d=c==null||c.includes("trailing"),e=()=>{t!==null&&(a.apply(o,t),o=void 0,t=null)},i=()=>{d&&e(),l()};let n=null;const s=()=>{n!=null&&clearTimeout(n),n=setTimeout(()=>{n=null,i()},p)},f=()=>{n!==null&&(clearTimeout(n),n=null)},l=()=>{f(),o=void 0,t=null},g=()=>{f(),e()},h=function(...b){if(u?.aborted)return;o=this,t=b;const m=n==null;s(),r&&m&&e()};return h.schedule=s,h.cancel=l,h.flush=g,u?.addEventListener("abort",l,{once:!0}),h}function T(a,p=0,u={}){typeof u!="object"&&(u={});const{signal:c,leading:o=!1,trailing:t=!0,maxWait:r}=u,d=Array(2);o&&(d[0]="leading"),t&&(d[1]="trailing");let e,i=null;const n=y(function(...l){e=a.apply(this,l),i=null},p,{signal:c,edges:d}),s=function(...l){if(r!=null){if(i===null)i=Date.now();else if(Date.now()-i>=r)return e=a.apply(this,l),i=Date.now(),n.cancel(),n.schedule(),e}return n.apply(this,l),e},f=()=>(n.flush(),e);return s.cancel=n.cancel,s.flush=f,s}export{T as d};
