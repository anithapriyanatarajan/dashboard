import{v as f}from"./v4-CtRu48qb.js";const{addons:y}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:g}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:p}=__STORYBOOK_MODULE_GLOBAL__;var R="storybook/actions",h=`${R}/action-event`,m={depth:10,clearOnStoryChange:!0,limit:50},l=(t,e)=>{let n=Object.getPrototypeOf(t);return!n||e(n)?n:l(n,e)},w=t=>!!(typeof t=="object"&&t&&l(t,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof t.persist=="function"),D=t=>{if(w(t)){let e=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));e.persist();let n=Object.getOwnPropertyDescriptor(e,"view"),o=n?.value;return typeof o=="object"&&o?.constructor.name==="Window"&&Object.defineProperty(e,"view",{...n,value:Object.create(o.constructor.prototype)}),e}return t},v=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f():Date.now().toString(36)+Math.random().toString(36).substring(2);function b(t,e={}){let n={...m,...e},o=function(...i){if(e.implicit){let a=("__STORYBOOK_PREVIEW__"in p?p.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(r=>r.phase==="playing"||r.phase==="rendering");if(a){let r=!window?.FEATURES?.disallowImplicitActionsInRenderV8,s=new g({phase:a.phase,name:t,deprecated:r});if(r)console.warn(s);else throw s}}let _=y.getChannel(),O=v(),d=5,c=i.map(D),u=i.length>1?c:c[0],E={id:O,count:0,data:{name:t,args:u},options:{...n,maxDepth:d+(n.depth||3),allowFunction:n.allowFunction||!1}};_.emit(h,E)};return o.isAction=!0,o.implicit=e.implicit,o}export{b as a};
